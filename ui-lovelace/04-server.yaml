title: Server Status
icon: mdi:server
cards:
  - !include .cards/kitchen_timer.yaml
  - !include .cards/grill.yaml

  - type: vertical-stack
    cards:
      - type: entities
        show_header_toggle: false
        title: System
        entities:
          - sensor.load_1m
          - sensor.load_5m
          - sensor.load_15m
          - sensor.disk_use_percent
          - sensor.network_out_eno1
          - sensor.network_in_eno1
          - sensor.last_boot
          - sensor.last_backup_completed

      - type: horizontal-stack
        cards:
          - type: gauge
            entity: sensor.disk_use_percent
            name: Disk
          - type: gauge
            entity: sensor.memory_use_percent
            name: Memory
          - type: gauge
            entity: sensor.processor_use
            name: CPU
      - type: sensor
        entity: sensor.processor_use
        graph: line
        name: CPU History
        detail: 2
          
  - type: entities
    show_header_toggle: false
    title: 950 UPS
    entities:
      - sensor.ups_status
      - sensor.ups_battery
      - sensor.ups_time_left
      - sensor.ups_load

  - type: entities
    show_header_toggle: false
    title: 650 UPS
    entities:
      - sensor.650_ups_status
      - sensor.650_ups_battery
      - sensor.650_ups_time_left
      - sensor.650_ups_load

  - type: vertical-stack
    cards:
      - type: sensor
        entity: sensor.rack_exhaust_temperature
        graph: line
        name: Rack Temperature
        detail: 2
      - type: sensor
        entity: sensor.cpu_temperature
        graph: line
        name: NUC CPU Temperature
        detail: 2
      - type: entities
        show_header_toggle: false
        entities:
          - input_boolean.rack_fan_auto_off
          - fan.rack_fan
          - switch.rack_down_draft
          - entity: switch.nas
            name: "NAS / Plex"
      - type: conditional
        title: Misc
        conditions:
          - entity: switch.nas
            state: "on"
        card:
          type: entities
          entities:
            - script.copy

  - type: entities
    show_header_toggle: false
    title: Docker
    entities:
      - switch.docker_configurator
      - switch.docker_esphome
      - switch.docker_grafana
      - switch.docker_librespeed
      - switch.docker_ozwcp
      - switch.docker_plex
      - switch.docker_portainer
      - switch.docker_thermopro_mqtt
      - entity: switch.docker_train_sensor
      - entity: switch.docker_adguard
      - entity: switch.docker_apcupsd_950
      - entity: switch.docker_apcupsd_650
      - entity: switch.docker_appdaemon
      - entity: switch.docker_influxdb
      - entity: switch.docker_mosquitto
      - entity: switch.docker_nodered
      - entity: switch.docker_adguard
      - entity: switch.docker_thermostat_mqtt

  #- type: custom:gui-sandbox

  - type: vertical-stack
    cards:
      - type: entities
        title: Home Assistant
        show_header_toggle: false
        entities:
          - sensor.ha_version
          - sensor.ha_github_version
          - sensor.ha_docker_version_stable
          - sensor.ha_docker_version_beta
          - entity: sensor.hacs
            name: HACS Updates

#  - type: entities 
#    show_header_toggle: false
#    title: Pi-Hole      
#    entities:
#      - entity: switch.pihole_switch
#        icon: mdi:pi-hole 
#        name: Pi-Hole Ad Block State
#      - type: custom:bar-card
#        title: Ads Blocked Today
#        title_position: inside
#        entity: sensor.pi_hole_ads_blocked_today
#        decimal: 0
#        max: 10000
#      - type: custom:bar-card
#        title: DNS Queries
#        title_position: inside
#        entity: sensor.pi_hole_dns_queries_today
#        decimal: 0
#        max: 100000
#      - type: custom:bar-card
#        title: Pi-Hole DNS Unique Clients
#        title_position: inside
#        entity: sensor.pi_hole_dns_unique_clients
#        decimal: 0
#        # max: 25
