title: Server Status
cards:
  - !include cards/kitchen_timer.yaml

  - type: horizontal-stack
    cards:
      - type: sensor
        entity: !secret domain_1_expiry_sensor
        name: !secret domain_1
      - type: sensor
        entity: !secret domain_2_expiry_sensor
        name: !secret domain_2

  - type: vertical-stack
    cards:
      - type: sensor
        entity: sensor.rack_exhaust_temperature
        graph: line
        name: Rack Temperature
        detail: 2
      - type: entities
        entities:
          - fan.rack_fan

  - type: vertical-stack
    cards:
      - type: entities
        show_header_toggle: false
        title: System
        entities:
          - sensor.load_1m
          - sensor.load_5m
          - sensor.load_15m
          - sensor.disk_use_percent_home
          - sensor.network_out_eno1
          - sensor.network_in_eno1
          - sensor.last_boot

      - type: horizontal-stack
        cards:
          - type: gauge
            entity: sensor.disk_use_percent
            name: Disk
          - type: gauge
            entity: sensor.memory_use_percent
            name: Memory
          - type: gauge
            entity: sensor.processor_use
            name: CPU
      - type: sensor
        entity: sensor.processor_use
        graph: line
        name: CPU History
        detail: 2
          
  - type: entities
    show_header_toggle: false
    title: UPS
    entities:
      - sensor.ups_monitor
      - sensor.ups_input_voltage
      - sensor.ups_battery
      - sensor.ups_time_left
      - sensor.ups_load

  - type: entities
    show_header_toggle: false
    title: 650 UPS
    entities:
      - sensor.650_ups_monitor
      - sensor.650_ups_input_voltage
      - sensor.650_ups_battery
      - sensor.650_ups_time_left
      - sensor.650_ups_load

  - type: entities
    show_header_toggle: false
    title: Power
    entities:
      - sensor.sonoff_pow_current
      - sensor.sonoff_pow_power
      - sensor.sonoff_pow_today_energy
      - sensor.sonoff_pow_today_cost
      - sensor.sonoff_pow_yesterday_energy
      - sensor.sonoff_pow_yesterday_cost

  - type: vertical-stack
    cards:
      - type: entities
        entities:
          - entity: switch.nas
            name: "NAS / Plex"
      - type: conditional
        title: Misc
        conditions:
          - entity: switch.nas
            state: "on"
        card:
          type: entities
          entities:
            - script.copy

  - type: entities
    show_header_toggle: false
    title: Docker
    entities:
      - switch.docker_esphome
      - switch.docker_grafana
      - switch.docker_plex
      - switch.docker_portainer
      - entity: switch.docker_influxdb
        type: custom:toggle-lock-entity-row
      - entity: switch.docker_mosquitto
        type: custom:toggle-lock-entity-row
      - entity: switch.docker_nodered
        type: custom:toggle-lock-entity-row
      - entity: switch.docker_pwr_stat
        type: custom:toggle-lock-entity-row
      - entity: switch.docker_pwr_stat_650
        type: custom:toggle-lock-entity-row
      - entity: switch.docker_pihole
        type: custom:toggle-lock-entity-row

  #- type: custom:gui-sandbox
